FROM node:18

RUN npm install -g pm2

WORKDIR /app

COPY package*.json ./
RUN npm install --no-cache

COPY . .
RUN npx prisma generate

EXPOSE 3000

CMD ["pm2-runtime", "start", "server.js", "--name", "telofundi-backend"]
